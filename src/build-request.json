{
  "kind": "build_request",
  "title": "Regenerate Android APK and provide a new working download link",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-25",
      "text": "Generate a fresh Android release APK for the existing PWA wrapper project (frontend/android) and publish it as a new downloadable release artifact, because the previous download link is unreachable.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-generate-new-apk"
        ],
        "quotes": [
          "generate new apk",
          "its showing that-this site cannot be reached,check if theres a typo..................etc"
        ]
      },
      "acceptanceCriteria": [
        "A new release APK artifact is produced from the current codebase in frontend/android.",
        "The build output includes a new APK download URL that is reachable from both mobile and desktop browsers.",
        "The previously provided URL https://api.caffeine.build/download/apk/frontline-distributors/latest is not reused unless it is verified working; if a new URL is generated, it is included verbatim in the build output."
      ]
    },
    {
      "id": "REQ-26",
      "text": "Bump the Android wrapper app version (versionCode and versionName) so the regenerated APK is distinguishable from prior builds.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-generate-new-apk"
        ],
        "quotes": [
          "generate new apk"
        ]
      },
      "acceptanceCriteria": [
        "frontend/android/app/build.gradle has an incremented versionCode compared to the current value (1).",
        "frontend/android/app/build.gradle has an updated versionName compared to the current value (\"1.0\").",
        "The generated APK reports the new versionCode/versionName when inspected in Android app info after installation."
      ]
    },
    {
      "id": "REQ-27",
      "text": "Verify the Android wrapper is configured to load the deployed PWA URL via the Android string resource pwa_url, and ensure the release build uses a valid, deployed URL value (not the placeholder).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-generate-new-apk"
        ],
        "quotes": [
          "generate new apk"
        ]
      },
      "acceptanceCriteria": [
        "frontend/android/app/src/main/res/values/strings.xml does not ship with the placeholder value \"https://your-canister-id.ic0.app\" for pwa_url in the release APK.",
        "After installing the regenerated APK, the app opens and loads the PWA successfully on a device with internet access."
      ]
    }
  ],
  "constraints": [
    "Do not modify any immutable frontend paths listed in SYSTEM_CONTEXT.frontend.immutablePaths.",
    "Keep backend as a single Motoko actor; no backend changes are required for APK regeneration.",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Changing application features or UI behavior inside the React PWA (beyond what is required to produce a new APK artifact).",
    "Adding new authentication methods or third-party services.",
    "Implementing a new distribution system outside the standard build artifact download flow."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}